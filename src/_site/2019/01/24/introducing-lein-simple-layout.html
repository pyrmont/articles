<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Introducing the simple-layout Leiningen Template | articles.inqk.net</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Introducing the simple-layout Leiningen Template" />
<meta name="author" content="Michael Camilleri" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An introduction to a Leiningen template that creates a very simple project." />
<meta property="og:description" content="An introduction to a Leiningen template that creates a very simple project." />
<link rel="canonical" href="http://localhost:4000/2019/01/24/introducing-lein-simple-layout.html" />
<meta property="og:url" content="http://localhost:4000/2019/01/24/introducing-lein-simple-layout.html" />
<meta property="og:site_name" content="articles.inqk.net" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-01-24T18:58:32+09:00" />
<script type="application/ld+json">
{"dateModified":"2019-01-24T21:46:09+09:00","datePublished":"2019-01-24T18:58:32+09:00","headline":"Introducing the simple-layout Leiningen Template","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2019/01/24/introducing-lein-simple-layout.html"},"author":{"@type":"Person","name":"Michael Camilleri"},"description":"An introduction to a Leiningen template that creates a very simple project.","url":"http://localhost:4000/2019/01/24/introducing-lein-simple-layout.html","@type":"BlogPosting","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=2daa2b27c8b7174fdff1f614d852c8ece5845587">
    <link rel="stylesheet" href="/assets/css/barefoot.min.css?v=2daa2b27c8b7174fdff1f614d852c8ece5845587">
    <link rel="alternate" type="application/atom+xml" href="/feed.xml" />

    <link rel="shortcut icon" href="/assets/icons/favicon.ico?v=2daa2b27c8b7174fdff1f614d852c8ece5845587" />
    <link rel="icon" type="image/png" href="/assets/icons/favicon-196.png?v=2daa2b27c8b7174fdff1f614d852c8ece5845587" sizes="196x196">
    <link rel="apple-touch-icon image_src" href="/assets/icons/apple-touch-icon.png?v=2daa2b27c8b7174fdff1f614d852c8ece5845587">

    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header class="post">
        <a href="http://localhost:4000"> <h1>&#10042; articles.inqk.net</h1> </a>
        <p>Usually more extended thoughts by <a href="https://inqk.net/">Michael Camilleri</a>.
</p>
        <p class="instructions">Read <a href="/instructions.html">how</a> to use this blog.</p>
      </header>

<section class="post">
  <div class="tldr">
    <div class="heading">TLDR</div>
    <p>An introduction to a Leiningen template that creates a very simple project.</p>

  </div>

  <article>
    <h1>Introducing the simple‑layout Leiningen Template
</h1>

    <div class="metadata">
      <time datetime="2019-01-24 18:58:32 +0900">24 January 2019</time>
      <span class="history"><a href="https://github.com/pyrmont/articles/commits/master/_posts/2019-01-24-introducing-lein-simple-layout.md">Revision History</a></span>
    </div>

    <p>I’ve made a template for Leiningen called <a href="https://github.com/pyrmont/lein-simple-layout">simple-layout</a> (my first project on <a href="https://clojars.org/simple-layout/lein-template">Clojars</a>!). The template creates three files: <code>.gitignore</code>, <code>project.clj</code> and <code>&lt;project-name&gt;.clj</code>.</p>
<p>The project file is extremely minimal and does little more than set the version of Clojure to use as a dependency. At the time of writing, that defaults to 1.10.0 but you can specify the version by passing a template argument.</p>
<p>Here’s how you’d create a project called <code>exercises</code>, set it to use Clojure 1.6.0 and create the files in the directory <code>chapter-05/</code>:</p>
<pre class="code highlight language-sh"><code><span class="line-1">lein new simple-layout exercises <span class="nt">--to-dir</span> chapter-05 <span class="nt">--</span> 1.6.0</span>
</code></pre>
<p>That’s really all there is to it. The rest of this post explains the thinking behind the template’s development.</p>
<h2>Rationale</h2>
<p>As I’ve been working through <a href="https://www.braveclojure.com/clojure-for-the-brave-and-true/"><em>Clojure for the Brave and True</em></a>, one aspect that’s been frustrating is creating new projects for the code samples and exercises that accompany each chapter. There are basically two options: create a directory with a <code>deps.edn</code> file or create a project with Leiningen.</p>
<p>The former is simpler and seems like it should be the right way to do it but it comes with frustrating downside. When you launch a REPL from Emacs with Cider, it won’t pick up and start you in a particular namespace (since there’s no project from which to pull this information, this makes sense). You can switch to the namespace within the REPL but if you do that, you’ll lose direct access to <code>clojure.repl</code> functions like <code>doc</code>. You can bring these in, of course, but having to do this each time you launch the REPL is frustrating.</p>
<p>Using Leiningen to create a project with either the default or app template doesn’t have the namespace problem (since Cider will pick up the namespace that’s set in <code>project.clj</code>) but it will create a structure for your code that seems like overkill for these kind of quick coding explorations.</p>
<p>Of course, one thing that’s great about Leiningen is the community around it and while searching on Clojars I came across the <a href="https://clojars.org/flat-layout/lein-template">flat-layout</a> template by <a href="https://twitter.com/knjname">@knjname</a>. This <em>almost</em> did what I wanted but with two limitations:</p>
<ol>
<li>
<p>The template for the <code>&lt;project-file&gt;.clj</code> that it creates includes a <code>main</code> function. That’s not the end of the world but if you don’t need it, it can be frustrating to see it there.</p>
</li>
<li>
<p>The <code>project.clj</code> file hard codes a particular version of Clojure to use as a dependency. At the time of writing, that’s version 1.6.0. If you want to use a different version, you need to update the project file each time.</p>
</li>
</ol>
<p>The simple-layout template addresses both of these issues. You don’t get anything in your <code>&lt;project-name&gt;.clj</code> file except a namespace declaration and you can always specify the version of Clojure you want by passing a template argument at runtime.</p>
<p>I hope to keep the simple-layout template updated to use the latest version of Clojure version as the default but, at least with the template argument, you’re not dependent on me doing that should things change.&nbsp;&#10042;</p>


  </article>
</section>

      <footer class="post">
        <p><small>This post was written by <a href="https://inqk.net/">Michael Camilleri</a>, a person on the Internet. If you have any comments, please reach out on <a href="https://micro.blog/pyrmont/">Micro.blog</a> or  <a href="https://twitter.com/pyrmont/">Twitter</a>. Original work placed in the public domain. All rights are disclaimed. <a href="/licence.html">Why?</a></small></p>
      </footer>
    </div>

    <script src="/assets/js/barefoot.min.js?v=2daa2b27c8b7174fdff1f614d852c8ece5845587"></script>
    <script>
      lf = new BareFoot();
      lf.init();
    </script>

  </body>
</html>

